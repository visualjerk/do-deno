// Imports route modules for serverless env that doesn't support the dynamic import.
// This module will be updated automaticlly in develoment mode, do NOT edit it manually.
// deno-fmt-ignore-file
// deno-lint-ignore-file
// @ts-nocheck
var T=Object.defineProperty;var f=(r,t)=>{for(var e in t)T(r,e,{get:t[e],enumerable:!0})};var _={};f(_,{default:()=>O});import{defineComponent as $}from"vue";import{unref as v,withCtx as N,createTextVNode as D,mergeProps as H}from"https://esm.sh/vue@3.2.37";import{ssrRenderComponent as P,ssrRenderAttrs as k}from"https://esm.sh/@vue/server-renderer@3.2.37";import{Link as L}from"aleph/vue";var h=$({__name:"_404",__ssrInlineRender:!0,setup(r){return(t,e,n,d)=>{e(`<div${k(H({class:"screen e404"},d))}><h2> Ooooooops, nothing here! </h2><p>`),e(P(v(L),{to:"/"},{default:N((l,i,a,o)=>{if(i)i("Go back to the homepage");else return[D("Go back to the homepage")]}),_:1},n)),e("</p></div>")}}});h.__file="./routes/_404.vue";var O=h;var u={};f(u,{default:()=>U});import{defineComponent as F,h as M}from"vue";import{defineComponent as V}from"vue";import{unref as j,withCtx as J,createTextVNode as E}from"https://esm.sh/vue@3.2.37";import{ssrRenderComponent as G,ssrRenderAttrs as B}from"https://esm.sh/@vue/server-renderer@3.2.37";import{Link as q}from"aleph/vue";var w=V({__name:"Header",__ssrInlineRender:!0,setup(r){return(t,e,n,d)=>{e(`<header${B(d)}><div><h1 class="p-4 text-2xl">`),e(G(j(q),{to:"/"},{default:J((l,i,a,o)=>{if(i)i("Do");else return[E("Do")]}),_:1},n)),e("</h1></div></header>")}}});w.__file="./components/Header.vue";var R=w;var b=F({render(){return[M(R),this.$slots.default?this.$slots.default():[]]}});b.__file="./routes/_app.vue";var U=b;var y={};f(y,{data:()=>se,default:()=>re});import{defineComponent as W}from"vue";import{unref as g,withCtx as z,createVNode as I,mergeProps as K}from"https://esm.sh/vue@3.2.37";import{ssrRenderComponent as Q,ssrIncludeBooleanAttr as A,ssrRenderClass as X,ssrRenderAttrs as Y,ssrInterpolate as Z,ssrRenderList as ee}from"https://esm.sh/@vue/server-renderer@3.2.37";import{Head as te,useData as oe}from"aleph/vue";var s={todos:JSON.parse(window.localStorage?.getItem("todos")||"[]")},se={cacheTtl:0,get:()=>s,put:async r=>{let{message:t}=await r.json();if(typeof t=="string"){let e=Date.now();s.todos.push({id:e,message:t,completed:!1}),window.localStorage?.setItem("todos",JSON.stringify(s.todos))}return s},patch:async r=>{let{id:t,message:e,completed:n}=await r.json(),d=s.todos.find(l=>l.id===t);return d&&(typeof e=="string"&&(d.message=e),typeof n=="boolean"&&(d.completed=n),window.localStorage?.setItem("todos",JSON.stringify(s.todos))),s},delete:async r=>{let{id:t}=await r.json();return t&&(s.todos=s.todos.filter(e=>e.id!==t),window.localStorage?.setItem("todos",JSON.stringify(s.todos))),s}},S=W({__name:"index",__ssrInlineRender:!0,setup(r){let{data:t,isMutating:e,mutation:n}=oe();async function d(a){let{id:o}=a,c=!a.completed;n.patch({id:o,completed:c},"replace")}async function l(a){a.preventDefault();let o=a.currentTarget,p=new FormData(o).get("message")?.toString().trim();p&&(n.put({message:p},{optimisticUpdate:m=>({todos:[...m.todos,{id:0,message:p,completed:!1}]}),replace:!0}),o.reset(),setTimeout(()=>{o.querySelector("input")?.focus()},0))}function i(a){n.delete({id:a.id},"replace")}return(a,o,c,p)=>{o(`<div${Y(K({className:"bg-red"},p))}>`),o(Q(g(te),null,{default:z((m,x,ne,C)=>{if(x)x(`<title${C}>Todo</title><meta name="description" content="A todos app powered by Aleph.js"${C}>`);else return[I("title",null,"Todo"),I("meta",{name:"description",content:"A todos app powered by Aleph.js"})]}),_:1},c)),o("<h1>Todo Hallo Jan</h1><ul><!--[-->"),ee(g(t)?.todos,m=>{o(`<li><input type="checkbox"${A(m.completed)?" checked":""}><label class="${X(m.completed?"completed":"")}">${Z(m.message)}</label><button></button></li>`)}),o(`<!--]--></ul><form><input${A(!!g(e))?" disabled":""} type="text" name="message" placeholder="What needs to be done?" autofocus="autofocus" autocomplete="off"></form></div>`)}}});S.__file="./routes/index.vue";var re=S;var Re={"/_404":_,"/_app":u,"/":y,depGraph:{"modules":[{"specifier":"./routes/_404.vue"},{"specifier":"./routes/_app.vue","deps":[{"specifier":"./components/Header.vue"}]},{"specifier":"./routes/index.vue"},{"specifier":"./components/Header.vue"}]}};export{Re as default};
